import{_ as J}from"./Dy-GdebM.js";import{_ as K}from"./C8Wvh8wb.js";import{u as W}from"./CkL3z1VM.js";import{d as X,u as Y,r as o,B as Z,w as C,C as D,D as ee,E as te,c as q,b as s,a as r,l as i,G as le,q as n,y as w,v as g,F as se,H as ae,o as p,I as T,J as R,s as S,A as oe}from"./BSGE5GTI.js";import{u as re}from"./D5Lki4RC.js";import{V as ue}from"./3PW_WoF_.js";import{V as ie,a as N}from"./BHiJbfg-.js";import{V as ne}from"./D77b0ex7.js";import{V as de}from"./CLLojKmd.js";import{V as pe}from"./CnJXHhAe.js";import{V as ve,a as me}from"./BA1Q-Lks.js";import{V as ce}from"./CbG8ba6S.js";import{V as E}from"./J9FyYICg.js";import"./Z4zssqwt.js";import"./VtgzhqRg.js";import"./BFpEfhYG.js";import"./CsSRgOlO.js";import"./vbOnNZeH.js";import"./CNo6l2ZD.js";import"./DwApywtV.js";import"./B_ahJWon.js";import"./D1b0O_WH.js";import"./DVOIMO_o.js";import"./TnX_cM-C.js";import"./BLyE8agl.js";import"./DzMSTMj6.js";/* empty css        */import"./aeahcXnz.js";import"./276_PEDG.js";import"./DF6IzxTq.js";const ye={class:"landing-page-wrapper"},fe={class:"d-flex flex-wrap gap-4 my-4 mx-6"},ge={key:0,class:"font-weight-medium text-lg align-self-center"},qe={key:1,class:"font-weight-medium text-lg align-self-center"},_e={key:2,class:"font-weight-medium text-lg align-self-center"},be={class:"w-75"},Ve={class:"d-flex flex-wrap gap-4"},xe={class:"pa-4"},he={class:"rounded-lg overflow-hidden",style:{height:"250px"}},Pe=["src"],Ce={class:"d-flex justify-space-between align-center"},we={key:2},Be={class:"d-flex align-center"},ke={class:"text-h6 text-md-h5 text-lg-h4"},Te=["innerHTML"],Se={class:"d-flex align-center mb-1"},Ne={class:"d-flex justify-center"},dt=X({__name:"classes",setup(je){const L=Y();L.skin="default";const h=W(),t=Z(),U=le(),v=o(t.query.status||void 0),_=o(t.query.category||void 0),m=o(t.query.equipment||void 0),c=o(t.query.level||void 0),f=o(t.query.q||""),F=o(f.value);o([]);const d=o(t.query.type||""),y=o(Number(t.query.itemsPerPage)||12),u=o(Number(t.query.page)||1),b=o(t.query.sortBy||void 0),V=o(t.query.orderBy||void 0),B=o({currentPage:u.value,lastPage:1,total:0,perPage:y.value}),G=()=>{console.log("updateQueryParams");const l={...t.query,q:f.value||void 0,status:v.value||void 0,equipment:m.value||void 0,level:c.value||void 0,category:_.value||void 0,type:d.value||void 0,page:u.value!==1?String(u.value):void 0,itemsPerPage:y.value!==15?String(y.value):void 0,sortBy:b.value||void 0,orderBy:V.value||void 0};Object.keys(l).forEach(e=>{l[e]===void 0&&delete l[e]}),U.replace({query:l})};C([f,v,_,m,c,d,y,u,b,V],()=>{G()}),C(()=>t.query,()=>{(t.query.q!==f.value||t.query.status!==v.value||t.query.category!==_.value||t.query.equipment!==m.value||t.query.level!==c.value||t.query.type!==d.value||Number(t.query.page||1)!==u.value||Number(t.query.itemsPerPage||15)!==y.value||t.query.sortBy!==b.value||t.query.orderBy!==V.value)&&(f.value=t.query.q||"",v.value=t.query.status||void 0,_.value=t.query.category||void 0,m.value=t.query.equipment||void 0,c.value=t.query.level||void 0,d.value=t.query.type||"",u.value=Number(t.query.page)||1,y.value=Number(t.query.itemsPerPage)||15,b.value=t.query.sortBy||void 0,V.value=t.query.orderBy||void 0),console.log("kasjndkjansdkjnajsdn"),O()},{deep:!0});let x=null;C(F,l=>{x&&clearTimeout(x),x=setTimeout(()=>{f.value=l,u.value!==1&&(u.value=1)},500)}),D(()=>{x&&clearTimeout(x)});const{status:I,categories:Ae,equipments:M,levels:H}=ee(h),Q=async()=>{try{h.fetchOptions("categories","/options/class-categories"),h.fetchOptions("equipments","/options/class-equipments"),h.fetchOptions("levels","/options/class-levels"),z()}catch(l){console.error("Failed to fetch filter options:",l)}},z=()=>{v.value&&!I.value.some(l=>l.value===v.value)&&(v.value="")},j=o(null),{fetchMemberClasses:$}=re(),A=o([]),O=async()=>{const l={q:f.value,equipment:m.value,level:c.value,category:_.value,status:v.value,page:u.value,per_page:y.value,sort_by:b.value,order_by:V.value,type:d.value},{data:e,response:P,error:k}=await $({query:l});return A.value=e.data,j.value=e,{data:e,response:P,error:k}};return C(j,l=>{l&&(B.value={currentPage:l.current_page,lastPage:l.last_page,total:l.total,perPage:l.per_page},u.value=l.current_page,y.value=l.per_page)},{deep:!0}),te(async()=>{Q(),await O()}),o(!1),o(!1),o(null),(l,e)=>{const P=J,k=K;return p(),q("div",ye,[e[16]||(e[16]=s("div",{style:{height:"90px"}},null,-1)),r(ue,null,{default:i(()=>[r(ie,{modelValue:n(d),"onUpdate:modelValue":e[0]||(e[0]=a=>w(d)?d.value=a:null),class:"v-tabs-pill"},{default:i(()=>[r(N,{value:""},{default:i(()=>e[4]||(e[4]=[g(" All Class ")])),_:1}),r(N,{value:"group"},{default:i(()=>e[5]||(e[5]=[g(" Group Class ")])),_:1}),r(N,{value:"private"},{default:i(()=>e[6]||(e[6]=[g(" Private Class ")])),_:1})]),_:1},8,["modelValue"]),e[15]||(e[15]=s("div",{style:{height:"20px"}},null,-1)),r(ne,null,{default:i(()=>[s("div",fe,[n(d)=="group"?(p(),q("div",ge,"Group Class")):n(d)=="private"?(p(),q("div",qe,"Private Class")):(p(),q("div",_e,"All Class")),r(de),s("div",be,[s("div",Ve,[r(P,{modelValue:n(m),"onUpdate:modelValue":e[1]||(e[1]=a=>w(m)?m.value=a:null),placeholder:"All Equipment",items:n(M),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),r(P,{modelValue:n(c),"onUpdate:modelValue":e[2]||(e[2]=a=>w(c)?c.value=a:null),placeholder:"All Level",items:n(H),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])])])]),r(pe,{class:"mt-4"}),s("div",xe,[r(ve,{"no-gutters":""},{default:i(()=>[(p(!0),q(se,null,ae(n(A),a=>(p(),T(me,{key:a.id,cols:"12",sm:"4",class:"d-flex"},{default:i(()=>[r(ce,{class:"ma-2 pa-2 border rounded d-flex flex-column",style:{width:"100%"}},{default:i(()=>[s("div",he,[s("img",{src:a.banner_url,alt:"Banner",style:{width:"100%",height:"100%","object-fit":"cover","object-position":"center"}},null,8,Pe)]),e[10]||(e[10]=s("div",{class:"mt-2"},null,-1)),s("div",Ce,[a.type=="private"?(p(),T(E,{key:0,color:"warning",density:"default",label:"",size:"small"},{default:i(()=>e[7]||(e[7]=[g("Private Class")])),_:1})):a.type=="group"?(p(),T(E,{key:1,"base-color":"primary",density:"default",label:"",size:"small"},{default:i(()=>e[8]||(e[8]=[g("Group Class")])),_:1})):(p(),q("div",we)),s("span",Be,[r(R,{icon:"tabler-stopwatch",class:"me-1"}),g(" "+S(a.duration_min)+" min ",1)])]),e[11]||(e[11]=s("div",{class:"mt-2"},null,-1)),s("div",ke,S(a.name),1),e[12]||(e[12]=s("div",{class:"mt-2"},null,-1)),s("div",{class:"text-h8 font-weight-light",innerHTML:a.description},null,8,Te),e[13]||(e[13]=s("div",{class:"mt-2"},null,-1)),e[14]||(e[14]=s("div",{class:"flex-grow-1"},null,-1)),s("div",Se,[r(R,{icon:"tabler-treadmill",class:"me-1"}),s("span",null,S(a.equipment_name),1)]),r(oe,{class:"w-100 mt-2","append-icon":"tabler-caret-right",to:{name:"timetable",query:{equipment_id:a.equipment_id,category_id:a.category_id}}},{default:i(()=>e[9]||(e[9]=[g(" Book Now ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),s("div",Ne,[r(k,{page:n(u),"onUpdate:page":e[3]||(e[3]=a=>w(u)?u.value=a:null),"items-per-page":n(B).perPage,"total-items":n(B).total,"show-summary":!1},null,8,["page","items-per-page","total-items"])])]),_:1})]),_:1})])}}});export{dt as default};
