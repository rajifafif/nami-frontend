import{_ as Ye}from"./CUEYP4dV.js";import{_ as We,a as Je}from"./Bt0apysc.js";import{_ as xe}from"./BXxHOZkN.js";import{_ as De}from"./Dy-GdebM.js";import{_ as Ue}from"./CEX8y2Ix.js";import{_ as he}from"./C8Wvh8wb.js";import{_ as Ke}from"./4KJD6TD-.js";import{_ as Xe}from"./B__ysSUc.js";import{d as ge,D as ke,r as u,L as qe,w as L,I as ee,l as o,a as e,b as O,s as ie,q as t,x as Ze,y as f,A as H,v as w,o as j,R as el,B as $e,C as Te,E as Ae,c as me,K as Fe,J as le,N as re,S as Ne,G as Re,f as ll,i as tl,F as al,H as ol}from"./BSGE5GTI.js";import{u as Pe}from"./CkL3z1VM.js";import{u as Ee}from"./D5Lki4RC.js";import{u as Oe}from"./BgEmvsrc.js";import{u as Ie}from"./2xX9dgA3.js";import{V as ye,b as sl,d as rl}from"./D77b0ex7.js";import{V as Le}from"./DF6IzxTq.js";import{V as ul}from"./CGIYWge0.js";import{V as il,a as z}from"./BA1Q-Lks.js";import{V as je}from"./DGJLOgtI.js";import{V as Ce}from"./CLLojKmd.js";import{V as fe}from"./CnJXHhAe.js";import{V as Qe}from"./BkqMEpij.js";import{V as Ge}from"./DwApywtV.js";import{V as Me,a as ue}from"./CsSRgOlO.js";import{V as ze}from"./J9FyYICg.js";import{V as nl,a as dl}from"./BHiJbfg-.js";import{V as pl,a as _e}from"./aeahcXnz.js";import"./CZmP9VjC.js";import"./BFpEfhYG.js";import"./Z4zssqwt.js";import"./D_VAc04L.js";import"./BLyE8agl.js";import"./DzMSTMj6.js";import"./VtgzhqRg.js";import"./D1b0O_WH.js";import"./DVOIMO_o.js";import"./CNo6l2ZD.js";import"./B_ahJWon.js";import"./TnX_cM-C.js";import"./DiwIzWSr.js";/* empty css        */import"./CL7y6R7f.js";import"./vbOnNZeH.js";import"./276_PEDG.js";const cl={class:"text-h4 text-center mb-2"},Be=ge({__name:"AddEditScheduleDialog",props:{resource:{default:()=>({id:"",coach_id:null,course_id:null,location_id:"",duration_min:60,capacity:0,start_at:0,date:"",time:"",end_at:0,status:"active",type:""})},isDialogVisible:{type:Boolean},type:{}},emits:["update:isDialogVisible","submit"],setup(ne,{emit:D}){const{showSnackbar:l}=el(),k=ne,v=D,b=Pe(),{status:C,categories:y,equipments:S,levels:B,groupClasses:h,privateClasses:P}=ke(b),{classes:V,loadingClasses:_}=Ee(),{coaches:g,loadingCoaches:U,fetchCoachesOption:N}=Oe(),p=u(k.resource?{...structuredClone(qe(k.resource)),type:k.type}:{id:"",coach_id:null,course_id:null,location_id:"",duration_min:60,capacity:0,status:"active",type:k.type});L(()=>k.resource,m=>{p.value=m?{...structuredClone(qe(m)),type:k.type}:{id:"",coach_id:null,course_id:null,location_id:"",duration_min:60,capacity:0,status:"active",type:k.type}},{deep:!0});const Q=u(""),R=u("");L(()=>k.isDialogVisible,async m=>{m&&(k.type=="group"?(await b.fetchGroupClasses(""),V.value=h.value):(await b.fetchPrivateClasses(""),V.value=P.value),N({}))},{immediate:!0});const $=u({date:void 0,time:void 0,couse_id:void 0}),E=u(!1),de=()=>{v("update:isDialogVisible",!1),p.value=structuredClone(qe(k.resource)??{id:"",coach_id:"",course_id:"",location_id:"",duration_min:60,capacity:0,status:"active",type:k.type})},te=async()=>{try{if(p.value.id){const m=await se();m!=null&&m.id&&(v("update:isDialogVisible",!1),v("submit",m))}else{const m=await oe();m!=null&&m.id&&(v("update:isDialogVisible",!1),v("submit",m))}}catch(m){console.error("Failed to submit form:",m)}},{storeSchedule:ae,updateSchedule:J}=Ie(),oe=async()=>{var m,d;try{$.value={},E.value=!0,delete p.value.id;const{data:x,error:T,response:G}=await ae(p.value);if(T.value){console.log(x,T),$.value=((d=(m=T.value)==null?void 0:m.data)==null?void 0:d.errors)??{},l(T.value.message,"error"),E.value=!1;return}return E.value=!1,x.value}catch(x){console.error("Failed to delete class:",x)}finally{E.value=!1}},se=async()=>{var m;try{$.value={},E.value=!0;const{data:d,error:x,response:T}=await J(p.value.id??"",p.value);if(x.value){$.value=((m=x.value.data)==null?void 0:m.errors)??{},l(x.value.message,"error"),E.value=!1;return}return E.value=!1,d.value}catch(d){console.error("Failed to delete class:",d)}finally{E.value=!1}};return(m,d)=>{const x=Ke,T=Ue,G=Xe,K=xe;return j(),ee(je,{width:m.$vuetify.display.smAndDown?"auto":900,"model-value":k.isDialogVisible,"onUpdate:modelValue":d[10]||(d[10]=q=>m.$emit("update:isDialogVisible",q))},{default:o(()=>[e(x,{onClick:d[0]||(d[0]=q=>m.$emit("update:isDialogVisible",!1))}),e(ye,{class:"pa-2 pa-sm-10"},{default:o(()=>[e(Le,null,{default:o(()=>[O("h4",cl,ie(t(p).id?"Edit":"Add New")+" "+ie(k.type=="group"?"Group":"Private")+" Schedule ",1),e(ul,{onSubmit:Ze(te,["prevent"])},{default:o(()=>[e(il,null,{default:o(()=>[e(z,{cols:"6"},{default:o(()=>[e(T,{modelValue:t(p).date,"onUpdate:modelValue":d[1]||(d[1]=q=>t(p).date=q),label:"Select Date",placeholder:"Date",clearable:"","clear-icon":"tabler-x",style:{"min-width":"150px"},error:t($).date},null,8,["modelValue","error"])]),_:1}),e(z,{cols:"6"},{default:o(()=>[e(T,{modelValue:t(p).time,"onUpdate:modelValue":d[2]||(d[2]=q=>t(p).time=q),label:"Time (WIB)",placeholder:"Time",clearable:"","clear-icon":"tabler-x",style:{"min-width":"150px"},config:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},error:t($).time},null,8,["modelValue","error"])]),_:1}),e(z,{cols:"12"},{default:o(()=>[e(G,{modelValue:t(p).course_id,"onUpdate:modelValue":d[3]||(d[3]=q=>t(p).course_id=q),search:t(Q),"onUpdate:search":d[4]||(d[4]=q=>f(Q)?Q.value=q:null),label:"Select Class",placeholder:"Type to search...",items:t(V),clearable:!0,loading:t(_),error:t($).course_id},null,8,["modelValue","search","items","loading","error"])]),_:1}),e(z,{cols:"12"},{default:o(()=>[e(G,{modelValue:t(p).coach_id,"onUpdate:modelValue":d[5]||(d[5]=q=>t(p).coach_id=q),search:t(R),"onUpdate:search":d[6]||(d[6]=q=>f(R)?R.value=q:null),label:"Select Coach",placeholder:"Type to search...",items:t(g),clearable:!0,loading:t(U)},null,8,["modelValue","search","items","loading"])]),_:1}),e(z,{cols:"12"},{default:o(()=>[e(G,{modelValue:t(p).level_id,"onUpdate:modelValue":d[7]||(d[7]=q=>t(p).level_id=q),label:"Level",placeholder:"Select Level",items:t(B),clearable:!0},null,8,["modelValue","items"])]),_:1}),e(z,{cols:"12"},{default:o(()=>[e(K,{modelValue:t(p).duration_min,"onUpdate:modelValue":d[8]||(d[8]=q=>t(p).duration_min=q),label:"Duration (minutes)",placeholder:"60",type:"number"},null,8,["modelValue"])]),_:1}),e(z,{cols:"12"},{default:o(()=>[e(K,{modelValue:t(p).capacity,"onUpdate:modelValue":d[9]||(d[9]=q=>t(p).capacity=q),label:"Capacity",placeholder:"0",type:"number"},null,8,["modelValue"])]),_:1}),e(z,{cols:"12",class:"text-center"},{default:o(()=>[e(H,{type:"submit",class:"me-3"},{default:o(()=>d[11]||(d[11]=[w(" submit ")])),_:1}),e(H,{variant:"tonal",color:"secondary",onClick:de},{default:o(()=>d[12]||(d[12]=[w(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}}),vl={class:"d-flex flex-wrap gap-4 my-4 mx-6"},ml={class:"d-flex gap-4 flex-wrap align-center"},yl={class:"d-flex flex-wrap gap-4 ma-6"},fl={class:"text-sm flex gap-2 items-center"},gl=ge({__name:"ScheduleGroup",setup(ne){const D=Pe(),l=$e(),k=Re(),v=u(l.query.status||void 0),b=u(l.query.level||void 0),C=u(l.query.coach||void 0),y=u(l.query.day||void 0),S=u(l.query.date_start||""),B=u(l.query.date_end||""),h=u(l.query.q||""),P=u(h.value),V=u([]),_=u(Number(l.query.itemsPerPage)||15),g=u(Number(l.query.page)||1),U=u(l.query.sortBy||void 0),N=u(l.query.orderBy||void 0),p=u({currentPage:g.value,lastPage:1,total:0,perPage:_.value}),Q=()=>{console.log("updateQueryParams");const i={...l.query,q:h.value||void 0,status:v.value||void 0,level:b.value||void 0,coach:C.value||void 0,day:y.value||void 0,date_start:S.value||void 0,date_end:B.value||void 0,page:g.value!==1?String(g.value):void 0,itemsPerPage:_.value!==15?String(_.value):void 0,sortBy:U.value||void 0,orderBy:N.value||void 0};Object.keys(i).forEach(a=>{i[a]===void 0&&delete i[a]}),k.replace({query:i})};L([h,v,b,C,y,S,B,_,g,U,N],()=>{Q()}),L(()=>l.query,()=>{(l.query.q!==h.value||l.query.status!==v.value||l.query.level!==b.value||l.query.coach!==C.value||l.query.day!==y.value||l.query.date_start!==S.value||l.query.date_end!==B.value||Number(l.query.page||1)!==g.value||Number(l.query.itemsPerPage||15)!==_.value||l.query.sortBy!==U.value||l.query.orderBy!==N.value)&&(h.value=l.query.q||"",v.value=l.query.status||void 0,C.value=l.query.coach||void 0,y.value=l.query.day||void 0,S.value=l.query.date_start||"",B.value=l.query.date_end||"",b.value=l.query.level||void 0,g.value=Number(l.query.page)||1,_.value=Number(l.query.itemsPerPage)||15,U.value=l.query.sortBy||void 0,N.value=l.query.orderBy||void 0),A()},{deep:!0});let R=null;L(P,i=>{R&&clearTimeout(R),R=setTimeout(()=>{h.value=i,g.value!==1&&(g.value=1)},500)}),Te(()=>{R&&clearTimeout(R)});const{status:$,categories:E,equipments:de,levels:te,days:ae}=ke(D),{coaches:J,fetchCoachesOption:oe}=Oe(),se=async()=>{try{D.fetchOptions("categories","/options/class-categories"),D.fetchOptions("equipments","/options/class-equipments"),D.fetchOptions("levels","/options/class-levels"),oe({}),m()}catch(i){console.error("Failed to fetch filter options:",i)}},m=()=>{v.value&&!$.value.some(i=>i.value===v.value)&&(v.value="")},d=i=>{var a,X;g.value=i.page,_.value=i.itemsPerPage,i.sortBy&&i.sortBy.length>0?(U.value=(a=i.sortBy[0])==null?void 0:a.key,N.value=(X=i.sortBy[0])==null?void 0:X.order):(U.value=void 0,N.value=void 0)},x=u(null),{fetchSchedules:T,deleteSchedule:G,deactivateSchedule:K,reactivateSchedule:q}=Ie(),Y=u([]),A=async()=>{const i={q:h.value,level:b.value,coach:C.value,day:y.value,date_start:S.value,date_end:B.value,status:v.value,page:g.value,per_page:_.value,sort_by:U.value,order_by:N.value,type:"group"},{data:a,response:X,error:Z}=await T({query:i});return Y.value=a.data,x.value=a,{data:a,response:X,error:Z}};L(x,i=>{i&&(p.value={currentPage:i.current_page,lastPage:i.last_page,total:i.total,perPage:i.per_page},g.value=i.current_page,_.value=i.per_page)},{deep:!0});const pe=[{title:"Class",key:"class_name",sortable:!1},{title:"Coach",key:"coach_name",sortable:!1},{title:"Level",key:"level_name",sortable:!1},{title:"Day",key:"day",sortable:!1},{title:"Date",key:"start_at",sortable:!1},{title:"Capacity",key:"capacity",sortable:!0},{title:"Status",key:"status",sortable:!1,align:"end",width:"100px"},{title:"Actions",key:"actions",sortable:!1,align:"end",width:"100px"}],be=i=>{if(i==="active")return{text:"Active",color:"success"};if(i==="inactive")return{text:"Inactive",color:"error"}},n=async i=>{try{await K(i),A()}catch(a){console.error("Failed to delete class:",a)}},s=async i=>{try{await q(i),A()}catch(a){console.error("Failed to delete class:",a)}};Ae(async()=>{se(),await A()});const F=u(!1),M=u(!1),W=u(null),ce=i=>{W.value=i,M.value=!0},I=u({show:!1,id:null});function c(i){I.value.show=!0,I.value.id=i}async function ve(){I.value.id&&(await G(I.value.id),await A()),I.value.show=!1}return(i,a)=>{const X=xe,Z=De,Se=Ue,we=Fe("IconBtn"),He=he;return j(),me("div",null,[e(ye,null,{default:o(()=>[O("div",vl,[a[20]||(a[20]=O("div",{class:"font-weight-medium text-lg align-self-center"},"Group Schedule",-1)),e(Ce),O("div",ml,[e(H,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:o(()=>a[18]||(a[18]=[w(" Export ")])),_:1}),e(H,{color:"primary","prepend-icon":"tabler-plus",onClick:a[0]||(a[0]=()=>{F.value=!0})},{default:o(()=>a[19]||(a[19]=[w(" Add Schedule ")])),_:1}),e(Be,{"is-dialog-visible":t(F),"onUpdate:isDialogVisible":a[1]||(a[1]=r=>f(F)?F.value=r:null),onSubmit:a[2]||(a[2]=r=>A()),type:"group"},null,8,["is-dialog-visible"]),e(Be,{"is-dialog-visible":t(M),"onUpdate:isDialogVisible":a[3]||(a[3]=r=>f(M)?M.value=r:null),resource:t(W),onSubmit:a[4]||(a[4]=r=>A()),type:"group"},null,8,["is-dialog-visible","resource"])])]),e(fe),O("div",yl,[e(X,{modelValue:t(P),"onUpdate:modelValue":a[5]||(a[5]=r=>f(P)?P.value=r:null),placeholder:"Search",clearable:"",style:{"min-width":"200px"}},null,8,["modelValue"]),e(Z,{modelValue:t(C),"onUpdate:modelValue":a[6]||(a[6]=r=>f(C)?C.value=r:null),placeholder:"Coach",items:t(J),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),e(Z,{modelValue:t(b),"onUpdate:modelValue":a[7]||(a[7]=r=>f(b)?b.value=r:null),placeholder:"Level",items:t(te),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),e(Z,{modelValue:t(y),"onUpdate:modelValue":a[8]||(a[8]=r=>f(y)?y.value=r:null),placeholder:"Day",items:t(ae),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),e(Se,{modelValue:t(S),"onUpdate:modelValue":a[9]||(a[9]=r=>f(S)?S.value=r:null),placeholder:"Date Start",clearable:"","clear-icon":"tabler-x",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Se,{modelValue:t(B),"onUpdate:modelValue":a[10]||(a[10]=r=>f(B)?B.value=r:null),placeholder:"Date End",clearable:"","clear-icon":"tabler-x",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:t(v),"onUpdate:modelValue":a[11]||(a[11]=r=>f(v)?v.value=r:null),placeholder:"Status",items:t($),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),e(fe,{class:"mt-4"}),e(Qe,{"items-per-page":t(_),"onUpdate:itemsPerPage":a[13]||(a[13]=r=>f(_)?_.value=r:null),"model-value":t(V),"onUpdate:modelValue":a[14]||(a[14]=r=>f(V)?V.value=r:null),page:t(g),"onUpdate:page":a[15]||(a[15]=r=>f(g)?g.value=r:null),headers:pe,"show-select":"",items:t(Y),"items-length":t(p).total,class:"text-no-wrap","onUpdate:options":d},{"item.start_at":o(({item:r})=>[O("div",null,ie(i.$dayjs.unix(r.start_at).format("DD MMMM YYYY")),1),O("div",fl,[e(le,{size:"14",start:"",icon:"tabler-clock"}),w(" "+ie(i.$dayjs.unix(r.start_at).format("HH:mm")),1)])]),"item.status":o(({item:r})=>[e(ze,Ne(be(r.status??""),{density:"default",label:"",size:"small"}),null,16)]),"item.actions":o(({item:r})=>[e(we,{onClick:Ve=>ce(r)},{default:o(()=>[e(le,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(we,null,{default:o(()=>[e(le,{icon:"tabler-dots-vertical"}),e(Ge,{activator:"parent"},{default:o(()=>[e(Me,null,{default:o(()=>[r.status==="active"?(j(),ee(ue,{key:0,value:"delete","prepend-icon":"tabler-x",onClick:Ve=>n(r.id),"base-color":"error"},{default:o(()=>a[21]||(a[21]=[w(" Deactive ")])),_:2},1032,["onClick"])):re("",!0),r.status==="inactive"?(j(),ee(ue,{key:1,value:"reactivate","prepend-icon":"tabler-check",onClick:Ve=>s(r.id),"base-color":"success"},{default:o(()=>a[22]||(a[22]=[w(" Activate ")])),_:2},1032,["onClick"])):re("",!0),r.status==="inactive"?(j(),ee(ue,{key:2,value:"delete-permanently","prepend-icon":"tabler-trash",onClick:Ve=>c(r.id),"base-color":"error"},{default:o(()=>a[23]||(a[23]=[w(" Delete ")])),_:2},1032,["onClick"])):re("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[e(He,{page:t(g),"onUpdate:page":a[12]||(a[12]=r=>f(g)?g.value=r:null),"items-per-page":t(p).perPage,"total-items":t(p).total},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1}),e(je,{modelValue:t(I).show,"onUpdate:modelValue":a[17]||(a[17]=r=>t(I).show=r),"max-width":"400"},{default:o(()=>[e(ye,null,{default:o(()=>[e(sl,{class:"text-h6"},{default:o(()=>a[24]||(a[24]=[w("Confirm Delete")])),_:1}),e(Le,null,{default:o(()=>a[25]||(a[25]=[w("Are you sure you want to permanently delete this item?")])),_:1}),e(rl,null,{default:o(()=>[e(Ce),e(H,{text:"",onClick:a[16]||(a[16]=r=>t(I).show=!1)},{default:o(()=>a[26]||(a[26]=[w("Cancel")])),_:1}),e(H,{color:"error",onClick:ve},{default:o(()=>a[27]||(a[27]=[w("Delete")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),bl={class:"d-flex flex-wrap gap-4 my-4 mx-6"},Vl={class:"d-flex gap-4 flex-wrap align-center"},ql={class:"d-flex flex-wrap gap-4 ma-6"},_l=ge({__name:"SchedulePrivate",setup(ne){const D=Pe(),l=$e(),k=Re(),v=u(l.query.status||void 0),b=u(l.query.category||void 0),C=u(l.query.equipment||void 0),y=u(l.query.level||void 0),S=u(l.query.q||""),B=u(S.value),h=u([]),P=u(Number(l.query.itemsPerPage)||15),V=u(Number(l.query.page)||1),_=u(l.query.sortBy||void 0),g=u(l.query.orderBy||void 0),U=u({currentPage:V.value,lastPage:1,total:0,perPage:P.value}),N=()=>{console.log("updateQueryParams");const n={...l.query,q:S.value||void 0,status:v.value||void 0,equipment:C.value||void 0,level:y.value||void 0,category:b.value||void 0,page:V.value!==1?String(V.value):void 0,itemsPerPage:P.value!==15?String(P.value):void 0,sortBy:_.value||void 0,orderBy:g.value||void 0};Object.keys(n).forEach(s=>{n[s]===void 0&&delete n[s]}),k.replace({query:n})};L([S,v,b,C,y,P,V,_,g],()=>{N()}),L(()=>l.query,()=>{(l.query.q!==S.value||l.query.status!==v.value||l.query.category!==b.value||l.query.equipment!==C.value||l.query.level!==y.value||Number(l.query.page||1)!==V.value||Number(l.query.itemsPerPage||15)!==P.value||l.query.sortBy!==_.value||l.query.orderBy!==g.value)&&(S.value=l.query.q||"",v.value=l.query.status||void 0,b.value=l.query.category||void 0,C.value=l.query.equipment||void 0,y.value=l.query.level||void 0,V.value=Number(l.query.page)||1,P.value=Number(l.query.itemsPerPage)||15,_.value=l.query.sortBy||void 0,g.value=l.query.orderBy||void 0),console.log("kasjndkjansdkjnajsdn"),x()},{deep:!0});let p=null;L(B,n=>{p&&clearTimeout(p),p=setTimeout(()=>{S.value=n,V.value!==1&&(V.value=1)},500)}),Te(()=>{p&&clearTimeout(p)});const{status:Q,categories:R,equipments:$,levels:E}=ke(D),de=async()=>{try{D.fetchOptions("categories","/options/class-categories"),D.fetchOptions("equipments","/options/class-equipments"),D.fetchOptions("levels","/options/class-levels"),te()}catch(n){console.error("Failed to fetch filter options:",n)}},te=()=>{v.value&&!Q.value.some(n=>n.value===v.value)&&(v.value="")},ae=n=>{var s,F;V.value=n.page,P.value=n.itemsPerPage,n.sortBy&&n.sortBy.length>0?(_.value=(s=n.sortBy[0])==null?void 0:s.key,g.value=(F=n.sortBy[0])==null?void 0:F.order):(_.value=void 0,g.value=void 0)},J=u(null),{fetchClasses:oe,deleteClass:se,reactivateClass:m}=Ee(),d=u([]),x=async()=>{const n={q:S.value,equipment:C.value,level:y.value,category:b.value,status:v.value,page:V.value,per_page:P.value,sort_by:_.value,order_by:g.value,type:"private"},{data:s,response:F,error:M}=await oe({query:n});return d.value=s.data,J.value=s,{data:s,response:F,error:M}};L(J,n=>{n&&(U.value={currentPage:n.current_page,lastPage:n.last_page,total:n.total,perPage:n.per_page},V.value=n.current_page,P.value=n.per_page)},{deep:!0});const T=[{title:"Name",key:"name"},{title:"Category",key:"categories_names",sortable:!1},{title:"Equipment",key:"equipment_name",sortable:!1},{title:"Level",key:"level_name",sortable:!1},{title:"Status",key:"status",sortable:!1,align:"end",width:"100px"},{title:"Actions",key:"actions",sortable:!1,align:"end",width:"100px"}],G=n=>{if(n==="active")return{text:"Active",color:"success"};if(n==="inactive")return{text:"Inactive",color:"error"}},K=async n=>{try{await se(n),x()}catch(s){console.error("Failed to delete class:",s)}},q=async n=>{try{await m(n),x()}catch(s){console.error("Failed to delete class:",s)}};Ae(async()=>{de(),await x()});const Y=u(!1),A=u(!1),pe=u(null),be=n=>{pe.value=n,A.value=!0};return(n,s)=>{const F=We,M=xe,W=De,ce=Fe("IconBtn"),I=he;return j(),me("div",null,[e(ye,null,{default:o(()=>[O("div",bl,[s[16]||(s[16]=O("div",{class:"font-weight-medium text-lg align-self-center"},"Group Class",-1)),e(Ce),O("div",Vl,[e(H,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:o(()=>s[14]||(s[14]=[w(" Export ")])),_:1}),e(H,{color:"primary","prepend-icon":"tabler-plus",onClick:s[0]||(s[0]=()=>{Y.value=!0})},{default:o(()=>s[15]||(s[15]=[w(" Add Class ")])),_:1}),e(F,{"is-dialog-visible":t(Y),"onUpdate:isDialogVisible":s[1]||(s[1]=c=>f(Y)?Y.value=c:null),onSubmit:s[2]||(s[2]=c=>x()),type:"private"},null,8,["is-dialog-visible"]),e(F,{"is-dialog-visible":t(A),"onUpdate:isDialogVisible":s[3]||(s[3]=c=>f(A)?A.value=c:null),resource:t(pe),onSubmit:s[4]||(s[4]=c=>x()),type:"private"},null,8,["is-dialog-visible","resource"])])]),e(fe),O("div",ql,[e(M,{modelValue:t(B),"onUpdate:modelValue":s[5]||(s[5]=c=>f(B)?B.value=c:null),placeholder:"Search",clearable:"",style:{"min-width":"200px"}},null,8,["modelValue"]),e(W,{modelValue:t(b),"onUpdate:modelValue":s[6]||(s[6]=c=>f(b)?b.value=c:null),placeholder:"Category",items:t(R),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),e(W,{modelValue:t(C),"onUpdate:modelValue":s[7]||(s[7]=c=>f(C)?C.value=c:null),placeholder:"Equipment",items:t($),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),e(W,{modelValue:t(y),"onUpdate:modelValue":s[8]||(s[8]=c=>f(y)?y.value=c:null),placeholder:"Level",items:t(E),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),e(W,{modelValue:t(v),"onUpdate:modelValue":s[9]||(s[9]=c=>f(v)?v.value=c:null),placeholder:"Status",items:t(Q),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),e(fe,{class:"mt-4"}),e(Qe,{"items-per-page":t(P),"onUpdate:itemsPerPage":s[11]||(s[11]=c=>f(P)?P.value=c:null),"model-value":t(h),"onUpdate:modelValue":s[12]||(s[12]=c=>f(h)?h.value=c:null),page:t(V),"onUpdate:page":s[13]||(s[13]=c=>f(V)?V.value=c:null),headers:T,"show-select":"",items:t(d),"items-length":t(U).total,class:"text-no-wrap","onUpdate:options":ae},{"item.status":o(({item:c})=>[e(ze,Ne(G(c.status??""),{density:"default",label:"",size:"small"}),null,16)]),"item.actions":o(({item:c})=>[e(ce,{onClick:ve=>be(c)},{default:o(()=>[e(le,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(ce,null,{default:o(()=>[e(le,{icon:"tabler-dots-vertical"}),e(Ge,{activator:"parent"},{default:o(()=>[e(Me,null,{default:o(()=>[c.status==="active"?(j(),ee(ue,{key:0,value:"delete","prepend-icon":"tabler-x",onClick:ve=>K(c.id),"base-color":"error"},{default:o(()=>s[17]||(s[17]=[w(" Deactive ")])),_:2},1032,["onClick"])):re("",!0),c.status==="inactive"?(j(),ee(ue,{key:1,value:"reactivate","prepend-icon":"tabler-check",onClick:ve=>q(c.id),"base-color":"success"},{default:o(()=>s[18]||(s[18]=[w(" Activate ")])),_:2},1032,["onClick"])):re("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[e(I,{page:t(V),"onUpdate:page":s[10]||(s[10]=c=>f(V)?V.value=c:null),"items-per-page":t(U).perPage,"total-items":t(U).total},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1})])}}}),pt=ge({__name:"[tab]",setup(ne){const D=ll(),l=tl({get:()=>D.params.tab,set:()=>D.params.tab}),k=[{title:"Group",icon:"tabler-users",tab:"group"},{title:"Private",icon:"tabler-user",tab:"private"},{title:"Level",icon:"tabler-stairs",tab:"level"}];return(v,b)=>{const C=Ye;return j(),me("div",null,[e(nl,{modelValue:t(l),"onUpdate:modelValue":b[0]||(b[0]=y=>f(l)?l.value=y:null),class:"v-tabs-pill"},{default:o(()=>[(j(),me(al,null,ol(k,y=>e(dl,{key:y.icon,value:y.tab,to:{name:"manage-schedules-tab",params:{tab:y.tab}}},{default:o(()=>[e(le,{size:"20",start:"",icon:y.icon},null,8,["icon"]),w(" "+ie(y.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"]),e(C,null,{default:o(()=>[e(pl,{modelValue:t(l),"onUpdate:modelValue":b[1]||(b[1]=y=>f(l)?l.value=y:null),class:"mt-6 disable-tab-transition",touch:!1},{default:o(()=>[e(_e,{value:"group"},{default:o(()=>[e(gl)]),_:1}),e(_e,{value:"private"},{default:o(()=>[e(_l)]),_:1}),e(_e,{value:"level"},{default:o(()=>[e(Je)]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});export{pt as default};
