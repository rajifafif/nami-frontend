import{_ as ze}from"./CUEYP4dV.js";import{_ as Ae}from"./4KJD6TD-.js";import{_ as de}from"./BXxHOZkN.js";import{r as i,d as ie,L as ne,w as U,I as H,l as r,a as t,b as N,s as Ue,x as Ne,q as d,A as J,v as $,o as A,R as Te,B as ye,C as fe,D as be,E as qe,c as Z,y as P,K as Ve,J as W,N as M,S as Pe,G as Ce,_ as We,f as He,i as Je,F as Ke,H as Xe}from"./BSGE5GTI.js";import{u as z}from"./BLyE8agl.js";import{c as De}from"./DzMSTMj6.js";import{V as ve}from"./D77b0ex7.js";import{V as Re}from"./DF6IzxTq.js";import{V as Fe}from"./CGIYWge0.js";import{V as Ie,a as ge}from"./BA1Q-Lks.js";import{V as je}from"./DGJLOgtI.js";import{_ as _e}from"./C8Wvh8wb.js";import{u as xe}from"./CkL3z1VM.js";import{V as ke}from"./CLLojKmd.js";import{V as ee}from"./CnJXHhAe.js";import{V as Be}from"./BkqMEpij.js";import{V as we}from"./DwApywtV.js";import{V as Ee,a as te}from"./CsSRgOlO.js";import{V as $e}from"./J9FyYICg.js";import{_ as Oe,a as Ye}from"./Bt0apysc.js";import{_ as Qe}from"./Dy-GdebM.js";import{u as Le}from"./D5Lki4RC.js";import{V as Ze,a as Me}from"./BHiJbfg-.js";import{V as et,a as me}from"./aeahcXnz.js";import"./Z4zssqwt.js";import"./BFpEfhYG.js";import"./CNo6l2ZD.js";/* empty css        */import"./B_ahJWon.js";import"./TnX_cM-C.js";import"./VtgzhqRg.js";import"./D1b0O_WH.js";import"./DVOIMO_o.js";import"./CL7y6R7f.js";import"./DiwIzWSr.js";import"./vbOnNZeH.js";import"./276_PEDG.js";import"./B__ysSUc.js";import"./CZmP9VjC.js";import"./D_VAc04L.js";const he=()=>{const I=i([]),_=i(!1);return{categories:I,loadingCategories:_,fetchCategories:async u=>{_.value=!0;try{const{data:v,response:m,error:C}=await z(De("/categories",u)).json();return I.value=v.value.data||[],{data:v.value,response:m,error:C}}catch(v){return console.error("Error fetching coach:",v),{data:null,response:null,error:v}}finally{_.value=!1}},deleteCategory:async u=>await z(`/categories/${u}`,{method:"DELETE"}),reactivateCategory:async u=>await z(`/categories/${u}/reactivate`,{method:"PUT"}),storeCategory:async u=>await z("/categories").post(u).json(),updateCategory:async(u,v)=>await z(`/categories/${u}`).put(v).json()}},tt={class:"text-h4 text-center mb-2"},at=ie({__name:"AddEditCategoryDialog",props:{resource:{default:()=>({id:"",name:"",code:"",status:"active"})},isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","submit"],setup(I,{emit:_}){const{showSnackbar:e}=Te(),B=I,y=_,p=i(structuredClone(ne(B.resource))??{id:"",name:"",code:""});U(()=>B.resource,o=>{p.value=structuredClone(ne(o)??{id:"",name:"",code:""})},{deep:!0});const V=i({name:void 0,email:void 0,gender:void 0,phone:void 0}),u=i(!1),v=()=>{y("update:isDialogVisible",!1),p.value=structuredClone(ne(B.resource)??{id:"",name:"",code:""})},m=async()=>{try{if(p.value.id){const o=await w();o!=null&&o.id&&(y("update:isDialogVisible",!1),y("submit",o))}else{const o=await b();o!=null&&o.id&&(y("update:isDialogVisible",!1),y("submit",o))}}catch(o){console.error("Failed to submit form:",o)}},{storeCategory:C,updateCategory:q}=he(),b=async()=>{var o;try{V.value={},u.value=!0,delete p.value.id;const{data:f,error:x,response:k}=await C(p.value);if(x.value){V.value=((o=x.value.data)==null?void 0:o.errors)??{},e(x.value.message,"error"),u.value=!1;return}return u.value=!1,f.value}catch(f){console.error("Failed to delete class:",f)}finally{u.value=!1}},w=async()=>{var o;try{V.value={},u.value=!0;const{data:f,error:x,response:k}=await q(p.value.id??"",p.value);if(x.value){V.value=((o=x.value.data)==null?void 0:o.errors)??{},e(x.value.message,"error"),u.value=!1;return}return u.value=!1,f.value}catch(f){console.error("Failed to delete class:",f)}finally{u.value=!1}};return(o,f)=>{const x=Ae,k=de;return A(),H(je,{width:o.$vuetify.display.smAndDown?"auto":900,"model-value":B.isDialogVisible,"onUpdate:modelValue":f[2]||(f[2]=E=>o.$emit("update:isDialogVisible",E))},{default:r(()=>[t(x,{onClick:f[0]||(f[0]=E=>o.$emit("update:isDialogVisible",!1))}),t(ve,{class:"pa-2 pa-sm-10"},{default:r(()=>[t(Re,null,{default:r(()=>{var E;return[N("h4",tt,Ue(((E=B.resource)==null?void 0:E.id)??!1?"Edit":"Add New")+" Category ",1),t(Fe,{onSubmit:Ne(m,["prevent"])},{default:r(()=>[t(Ie,null,{default:r(()=>[t(ge,{cols:"12"},{default:r(()=>[t(k,{modelValue:d(p).name,"onUpdate:modelValue":f[1]||(f[1]=G=>d(p).name=G),label:"Name",placeholder:"Name","error-messages":d(V).name},null,8,["modelValue","error-messages"])]),_:1}),t(ge,{cols:"12",class:"text-center"},{default:r(()=>[t(J,{type:"submit",class:"me-3",loading:d(u)},{default:r(()=>f[3]||(f[3]=[$(" Submit ")])),_:1},8,["loading"]),t(J,{variant:"tonal",color:"secondary",onClick:v},{default:r(()=>f[4]||(f[4]=[$(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1})]),_:1},8,["width","model-value"])}}}),lt={class:"d-flex flex-wrap gap-4 my-4 mx-6"},ot={class:"d-flex gap-4 flex-wrap align-center"},st={class:"d-flex flex-wrap gap-4 ma-6"},rt=ie({__name:"Category",setup(I){const _=xe(),e=ye(),B=Ce(),y=i(e.query.status||void 0),p=i(e.query.q||""),V=i(p.value),u=i([]),v=i(Number(e.query.itemsPerPage)||15),m=i(Number(e.query.page)||1),C=i(e.query.sortBy||void 0),q=i(e.query.orderBy||void 0),b=i({currentPage:m.value,lastPage:1,total:0,perPage:v.value}),w=()=>{console.log("updateQueryParams");const n={...e.query,q:p.value||void 0,status:y.value||void 0,page:m.value!==1?String(m.value):void 0,itemsPerPage:v.value!==15?String(v.value):void 0,sortBy:C.value||void 0,orderBy:q.value||void 0};Object.keys(n).forEach(l=>{n[l]===void 0&&delete n[l]}),B.replace({query:n})};U([p,y,v,m,C,q],()=>{w()}),U(()=>e.query,()=>{(e.query.q!==p.value||e.query.status!==y.value||Number(e.query.page||1)!==m.value||Number(e.query.itemsPerPage||15)!==v.value||e.query.sortBy!==C.value||e.query.orderBy!==q.value)&&(p.value=e.query.q||"",y.value=e.query.status||void 0,m.value=Number(e.query.page)||1,v.value=Number(e.query.itemsPerPage)||15,C.value=e.query.sortBy||void 0,q.value=e.query.orderBy||void 0),T()},{deep:!0});let o=null;U(V,n=>{o&&clearTimeout(o),o=setTimeout(()=>{p.value=n,m.value!==1&&(m.value=1)},500)}),fe(()=>{o&&clearTimeout(o)});const{status:f}=be(_),x=n=>{var l,S;m.value=n.page,v.value=n.itemsPerPage,n.sortBy&&n.sortBy.length>0?(C.value=(l=n.sortBy[0])==null?void 0:l.key,q.value=(S=n.sortBy[0])==null?void 0:S.order):(C.value=void 0,q.value=void 0)},k=i(null),{fetchCategories:E,deleteCategory:G,reactivateCategory:ae}=he(),Y=i([]),T=async()=>{const n={q:p.value,status:y.value,page:m.value,per_page:v.value,sort_by:C.value,order_by:q.value},{data:l,response:S,error:h}=await E({query:n});return Y.value=l.data,k.value=l,{data:l,response:S,error:h}};U(k,n=>{n&&(b.value={currentPage:n.current_page,lastPage:n.last_page,total:n.total,perPage:n.per_page},m.value=n.current_page,v.value=n.per_page)},{deep:!0});const le=[{title:"Name",key:"name"},{title:"Status",key:"status",sortable:!1,align:"end",width:100},{title:"Actions",key:"actions",sortable:!1,align:"end",width:"100px"}],oe=n=>{if(n==="active")return{text:"Active",color:"success"};if(n==="inactive")return{text:"Inactive",color:"error"}},K=async n=>{try{await G(n),T()}catch(l){console.error("Failed to delete class:",l)}},se=async n=>{try{await ae(n),T()}catch(l){console.error("Failed to delete class:",l)}};qe(async()=>{await T()});const j=i(!1),O=i(!1),L=i(null),D=n=>{L.value=n,O.value=!0};return(n,l)=>{const S=at,h=de,R=Ve("IconBtn"),Q=_e;return A(),Z("div",null,[t(ve,null,{default:r(()=>[N("div",lt,[l[11]||(l[11]=N("div",{class:"font-weight-medium text-lg align-self-center"},"Category",-1)),t(ke),N("div",ot,[t(J,{color:"primary","prepend-icon":"tabler-plus",onClick:l[0]||(l[0]=()=>{j.value=!0})},{default:r(()=>l[10]||(l[10]=[$(" Add Category ")])),_:1}),t(S,{"is-dialog-visible":d(j),"onUpdate:isDialogVisible":l[1]||(l[1]=g=>P(j)?j.value=g:null),onSubmit:l[2]||(l[2]=g=>T())},null,8,["is-dialog-visible"]),t(S,{"is-dialog-visible":d(O),"onUpdate:isDialogVisible":l[3]||(l[3]=g=>P(O)?O.value=g:null),resource:d(L),onSubmit:l[4]||(l[4]=g=>T())},null,8,["is-dialog-visible","resource"])])]),t(ee),N("div",st,[t(h,{modelValue:d(V),"onUpdate:modelValue":l[5]||(l[5]=g=>P(V)?V.value=g:null),placeholder:"Search",clearable:""},null,8,["modelValue"])]),t(ee,{class:"mt-4"}),t(Be,{"items-per-page":d(v),"onUpdate:itemsPerPage":l[7]||(l[7]=g=>P(v)?v.value=g:null),"model-value":d(u),"onUpdate:modelValue":l[8]||(l[8]=g=>P(u)?u.value=g:null),page:d(m),"onUpdate:page":l[9]||(l[9]=g=>P(m)?m.value=g:null),headers:le,"show-select":"",items:d(Y),"items-length":d(b).total,class:"text-no-wrap","onUpdate:options":x},{"item.status":r(({item:g})=>[t($e,Pe(oe(g.status??""),{density:"default",label:"",size:"small"}),null,16)]),"item.actions":r(({item:g})=>[t(R,{onClick:X=>D(g)},{default:r(()=>[t(W,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(R,null,{default:r(()=>[t(W,{icon:"tabler-dots-vertical"}),t(we,{activator:"parent"},{default:r(()=>[t(Ee,null,{default:r(()=>[g.status==="active"?(A(),H(te,{key:0,value:"delete","prepend-icon":"tabler-x",onClick:X=>K(g.id),"base-color":"error"},{default:r(()=>l[12]||(l[12]=[$(" Deactive ")])),_:2},1032,["onClick"])):M("",!0),g.status==="inactive"?(A(),H(te,{key:1,value:"reactivate","prepend-icon":"tabler-check",onClick:X=>se(g.id),"base-color":"success"},{default:r(()=>l[13]||(l[13]=[$(" Activate ")])),_:2},1032,["onClick"])):M("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:r(()=>[t(Q,{page:d(m),"onUpdate:page":l[6]||(l[6]=g=>P(m)?m.value=g:null),"items-per-page":d(b).perPage,"total-items":d(b).total},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1})])}}}),Ge=()=>{const I=i([]),_=i(!1);return{equipments:I,loadingEquipments:_,fetchEquipments:async u=>{_.value=!0;try{const{data:v,response:m,error:C}=await z(De("/equipments",u)).json();return I.value=v.value.data||[],{data:v.value,response:m,error:C}}catch(v){return console.error("Error fetching coach:",v),{data:null,response:null,error:v}}finally{_.value=!1}},deleteEquipment:async u=>await z(`/equipments/${u}`,{method:"DELETE"}),reactivateEquipment:async u=>await z(`/equipments/${u}/reactivate`,{method:"PUT"}),storeEquipment:async u=>await z("/equipments").post(u).json(),updateEquipment:async(u,v)=>await z(`/equipments/${u}`).put(v).json()}},ut={class:"text-h4 text-center mb-2"},it=ie({__name:"AddEditEquipmentDialog",props:{resource:{default:()=>({id:"",name:"",code:"",status:"active"})},isDialogVisible:{type:Boolean}},emits:["update:isDialogVisible","submit"],setup(I,{emit:_}){const{showSnackbar:e}=Te(),B=I,y=_,p=i(structuredClone(ne(B.resource))??{id:"",name:"",code:""});U(()=>B.resource,o=>{p.value=structuredClone(ne(o)??{id:"",name:"",code:""})},{deep:!0});const V=i({name:void 0,email:void 0,gender:void 0,phone:void 0}),u=i(!1);U(()=>B.isDialogVisible,(o,f)=>{o||v()});const v=()=>{y("update:isDialogVisible",!1),p.value=structuredClone(ne(B.resource)??{id:"",name:"",code:""})},m=async()=>{try{if(p.value.id){const o=await w();o!=null&&o.id&&(y("update:isDialogVisible",!1),y("submit",o))}else{const o=await b();o!=null&&o.id&&(y("update:isDialogVisible",!1),y("submit",o))}}catch(o){console.error("Failed to submit form:",o)}},{storeEquipment:C,updateEquipment:q}=Ge(),b=async()=>{var o;try{V.value={},u.value=!0,delete p.value.id;const{data:f,error:x,response:k}=await C(p.value);if(x.value){V.value=((o=x.value.data)==null?void 0:o.errors)??{},e(x.value.message,"error"),u.value=!1;return}return u.value=!1,f.value}catch(f){console.error("Failed to delete class:",f)}finally{u.value=!1}},w=async()=>{var o;try{V.value={},u.value=!0;const{data:f,error:x,response:k}=await q(p.value.id??"",p.value);if(x.value){V.value=((o=x.value.data)==null?void 0:o.errors)??{},e(x.value.message,"error"),u.value=!1;return}return u.value=!1,f.value}catch(f){console.error("Failed to delete class:",f)}finally{u.value=!1}};return(o,f)=>{const x=Ae,k=de;return A(),H(je,{width:o.$vuetify.display.smAndDown?"auto":900,"model-value":B.isDialogVisible,"onUpdate:modelValue":f[2]||(f[2]=E=>o.$emit("update:isDialogVisible",E))},{default:r(()=>[t(x,{onClick:f[0]||(f[0]=E=>o.$emit("update:isDialogVisible",!1))}),t(ve,{class:"pa-2 pa-sm-10"},{default:r(()=>[t(Re,null,{default:r(()=>{var E;return[N("h4",ut,Ue(((E=B.resource)==null?void 0:E.id)??!1?"Edit":"Add New")+" Equipment ",1),t(Fe,{onSubmit:Ne(m,["prevent"])},{default:r(()=>[t(Ie,null,{default:r(()=>[t(ge,{cols:"12"},{default:r(()=>[t(k,{modelValue:d(p).name,"onUpdate:modelValue":f[1]||(f[1]=G=>d(p).name=G),label:"Name",placeholder:"Name","error-messages":d(V).name,autofocus:""},null,8,["modelValue","error-messages"])]),_:1}),t(ge,{cols:"12",class:"text-center"},{default:r(()=>[t(J,{type:"submit",class:"me-3",loading:d(u)},{default:r(()=>f[3]||(f[3]=[$(" Submit ")])),_:1},8,["loading"]),t(J,{variant:"tonal",color:"secondary",onClick:v},{default:r(()=>f[4]||(f[4]=[$(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1})]),_:1},8,["width","model-value"])}}}),nt={class:"d-flex flex-wrap gap-4 my-4 mx-6"},dt={class:"d-flex gap-4 flex-wrap align-center"},vt={class:"d-flex flex-wrap gap-4 ma-6"},ct=ie({__name:"Equipment",setup(I){const _=xe(),e=ye(),B=Ce(),y=i(e.query.status||void 0),p=i(e.query.q||""),V=i(p.value),u=i([]),v=i(Number(e.query.itemsPerPage)||15),m=i(Number(e.query.page)||1),C=i(e.query.sortBy||void 0),q=i(e.query.orderBy||void 0),b=i({currentPage:m.value,lastPage:1,total:0,perPage:v.value}),w=()=>{console.log("updateQueryParams");const n={...e.query,q:p.value||void 0,status:y.value||void 0,page:m.value!==1?String(m.value):void 0,itemsPerPage:v.value!==15?String(v.value):void 0,sortBy:C.value||void 0,orderBy:q.value||void 0};Object.keys(n).forEach(l=>{n[l]===void 0&&delete n[l]}),B.replace({query:n})};U([p,y,v,m,C,q],()=>{w()}),U(()=>e.query,()=>{(e.query.q!==p.value||e.query.status!==y.value||Number(e.query.page||1)!==m.value||Number(e.query.itemsPerPage||15)!==v.value||e.query.sortBy!==C.value||e.query.orderBy!==q.value)&&(p.value=e.query.q||"",y.value=e.query.status||void 0,m.value=Number(e.query.page)||1,v.value=Number(e.query.itemsPerPage)||15,C.value=e.query.sortBy||void 0,q.value=e.query.orderBy||void 0),T()},{deep:!0});let o=null;U(V,n=>{o&&clearTimeout(o),o=setTimeout(()=>{p.value=n,m.value!==1&&(m.value=1)},500)}),fe(()=>{o&&clearTimeout(o)});const{status:f}=be(_),x=n=>{var l,S;m.value=n.page,v.value=n.itemsPerPage,n.sortBy&&n.sortBy.length>0?(C.value=(l=n.sortBy[0])==null?void 0:l.key,q.value=(S=n.sortBy[0])==null?void 0:S.order):(C.value=void 0,q.value=void 0)},k=i(null),{fetchEquipments:E,deleteEquipment:G,reactivateEquipment:ae}=Ge(),Y=i([]),T=async()=>{const n={q:p.value,status:y.value,page:m.value,per_page:v.value,sort_by:C.value,order_by:q.value},{data:l,response:S,error:h}=await E({query:n});return Y.value=l.data,k.value=l,{data:l,response:S,error:h}};U(k,n=>{n&&(b.value={currentPage:n.current_page,lastPage:n.last_page,total:n.total,perPage:n.per_page},m.value=n.current_page,v.value=n.per_page)},{deep:!0});const le=[{title:"Name",key:"name"},{title:"Status",key:"status",sortable:!1,align:"end",width:100},{title:"Actions",key:"actions",sortable:!1,align:"end",width:"100px"}],oe=n=>{if(n==="active")return{text:"Active",color:"success"};if(n==="inactive")return{text:"Inactive",color:"error"}},K=async n=>{try{await G(n),T()}catch(l){console.error("Failed to delete class:",l)}},se=async n=>{try{await ae(n),T()}catch(l){console.error("Failed to delete class:",l)}};qe(async()=>{await T()});const j=i(!1),O=i(!1),L=i(null),D=n=>{L.value=n,O.value=!0};return(n,l)=>{const S=it,h=de,R=Ve("IconBtn"),Q=_e;return A(),Z("div",null,[t(ve,null,{default:r(()=>[N("div",nt,[l[11]||(l[11]=N("div",{class:"font-weight-medium text-lg align-self-center"},"Equipment",-1)),t(ke),N("div",dt,[t(J,{color:"primary","prepend-icon":"tabler-plus",onClick:l[0]||(l[0]=()=>{j.value=!0})},{default:r(()=>l[10]||(l[10]=[$(" Add Equipment ")])),_:1}),t(S,{"is-dialog-visible":d(j),"onUpdate:isDialogVisible":l[1]||(l[1]=g=>P(j)?j.value=g:null),onSubmit:l[2]||(l[2]=g=>T())},null,8,["is-dialog-visible"]),t(S,{"is-dialog-visible":d(O),"onUpdate:isDialogVisible":l[3]||(l[3]=g=>P(O)?O.value=g:null),resource:d(L),onSubmit:l[4]||(l[4]=g=>T())},null,8,["is-dialog-visible","resource"])])]),t(ee),N("div",vt,[t(h,{modelValue:d(V),"onUpdate:modelValue":l[5]||(l[5]=g=>P(V)?V.value=g:null),placeholder:"Search",clearable:""},null,8,["modelValue"])]),t(ee,{class:"mt-4"}),t(Be,{"items-per-page":d(v),"onUpdate:itemsPerPage":l[7]||(l[7]=g=>P(v)?v.value=g:null),"model-value":d(u),"onUpdate:modelValue":l[8]||(l[8]=g=>P(u)?u.value=g:null),page:d(m),"onUpdate:page":l[9]||(l[9]=g=>P(m)?m.value=g:null),headers:le,"show-select":"",items:d(Y),"items-length":d(b).total,class:"text-no-wrap","onUpdate:options":x},{"item.status":r(({item:g})=>[t($e,Pe(oe(g.status??""),{density:"default",label:"",size:"small"}),null,16)]),"item.actions":r(({item:g})=>[t(R,{onClick:X=>D(g)},{default:r(()=>[t(W,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(R,null,{default:r(()=>[t(W,{icon:"tabler-dots-vertical"}),t(we,{activator:"parent"},{default:r(()=>[t(Ee,null,{default:r(()=>[g.status==="active"?(A(),H(te,{key:0,value:"delete","prepend-icon":"tabler-x",onClick:X=>K(g.id),"base-color":"error"},{default:r(()=>l[12]||(l[12]=[$(" Deactive ")])),_:2},1032,["onClick"])):M("",!0),g.status==="inactive"?(A(),H(te,{key:1,value:"reactivate","prepend-icon":"tabler-check",onClick:X=>se(g.id),"base-color":"success"},{default:r(()=>l[13]||(l[13]=[$(" Activate ")])),_:2},1032,["onClick"])):M("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:r(()=>[t(Q,{page:d(m),"onUpdate:page":l[6]||(l[6]=g=>P(m)?m.value=g:null),"items-per-page":d(b).perPage,"total-items":d(b).total},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1})])}}}),pt={class:"d-flex flex-wrap gap-4 my-4 mx-6"},mt={class:"d-flex gap-4 flex-wrap align-center"},gt={class:"d-flex flex-wrap gap-4 ma-6"},yt=["src"],ft={key:1},bt=ie({__name:"Group",setup(I){const _=xe(),e=ye(),B=Ce(),y=i(e.query.status||void 0),p=i(e.query.category||void 0),V=i(e.query.equipment||void 0),u=i(e.query.level||void 0),v=i(e.query.q||""),m=i(v.value),C=i([]),q=i(Number(e.query.itemsPerPage)||15),b=i(Number(e.query.page)||1),w=i(e.query.sortBy||void 0),o=i(e.query.orderBy||void 0),f=i({currentPage:b.value,lastPage:1,total:0,perPage:q.value}),x=()=>{console.log("updateQueryParams");const s={...e.query,q:v.value||void 0,status:y.value||void 0,equipment:V.value||void 0,level:u.value||void 0,category:p.value||void 0,page:b.value!==1?String(b.value):void 0,itemsPerPage:q.value!==15?String(q.value):void 0,sortBy:w.value||void 0,orderBy:o.value||void 0};Object.keys(s).forEach(a=>{s[a]===void 0&&delete s[a]}),B.replace({query:s})};U([v,y,p,V,u,q,b,w,o],()=>{x()}),U(()=>e.query,()=>{(e.query.q!==v.value||e.query.status!==y.value||e.query.category!==p.value||e.query.equipment!==V.value||e.query.level!==u.value||Number(e.query.page||1)!==b.value||Number(e.query.itemsPerPage||15)!==q.value||e.query.sortBy!==w.value||e.query.orderBy!==o.value)&&(v.value=e.query.q||"",y.value=e.query.status||void 0,p.value=e.query.category||void 0,V.value=e.query.equipment||void 0,u.value=e.query.level||void 0,b.value=Number(e.query.page)||1,q.value=Number(e.query.itemsPerPage)||15,w.value=e.query.sortBy||void 0,o.value=e.query.orderBy||void 0),console.log("kasjndkjansdkjnajsdn"),D()},{deep:!0});let k=null;U(m,s=>{k&&clearTimeout(k),k=setTimeout(()=>{v.value=s,b.value!==1&&(b.value=1)},500)}),fe(()=>{k&&clearTimeout(k)});const{status:E,categories:G,equipments:ae,levels:Y}=be(_),T=async()=>{try{_.fetchOptions("categories","/options/class-categories"),_.fetchOptions("equipments","/options/class-equipments"),_.fetchOptions("levels","/options/class-levels"),le()}catch(s){console.error("Failed to fetch filter options:",s)}},le=()=>{y.value&&!E.value.some(s=>s.value===y.value)&&(y.value="")},oe=s=>{var a,F;b.value=s.page,q.value=s.itemsPerPage,s.sortBy&&s.sortBy.length>0?(w.value=(a=s.sortBy[0])==null?void 0:a.key,o.value=(F=s.sortBy[0])==null?void 0:F.order):(w.value=void 0,o.value=void 0)},K=i(null),{fetchClasses:se,deleteClass:j,reactivateClass:O}=Le(),L=i([]),D=async()=>{const s={q:v.value,equipment:V.value,level:u.value,category:p.value,status:y.value,page:b.value,per_page:q.value,sort_by:w.value,order_by:o.value,type:"group"},{data:a,response:F,error:re}=await se({query:s});return L.value=a.data,K.value=a,{data:a,response:F,error:re}};U(K,s=>{s&&(f.value={currentPage:s.current_page,lastPage:s.last_page,total:s.total,perPage:s.per_page},b.value=s.current_page,q.value=s.per_page)},{deep:!0});const n=[{title:"Image",key:"banner_url",sortable:!1},{title:"Name",key:"name"},{title:"Equipment",key:"equipment_name",sortable:!1},{title:"Status",key:"status",sortable:!1,align:"end",width:"100px"},{title:"Actions",key:"actions",sortable:!1,align:"end",width:"100px"}],l=s=>{if(s==="active")return{text:"Active",color:"success"};if(s==="inactive")return{text:"Inactive",color:"error"}},S=async s=>{try{await j(s),D()}catch(a){console.error("Failed to delete class:",a)}},h=async s=>{try{await O(s),D()}catch(a){console.error("Failed to delete class:",a)}};qe(async()=>{T(),await D()});const R=i(!1),Q=i(!1),g=i(null),X=s=>{g.value=s,Q.value=!0};return(s,a)=>{const F=Oe,re=de,ue=Qe,ce=Ve("IconBtn"),Se=_e;return A(),Z("div",null,[t(ve,null,{default:r(()=>[N("div",pt,[a[14]||(a[14]=N("div",{class:"font-weight-medium text-lg align-self-center"},"Group Class",-1)),t(ke),N("div",mt,[t(J,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:r(()=>a[12]||(a[12]=[$(" Export ")])),_:1}),t(J,{color:"primary","prepend-icon":"tabler-plus",onClick:a[0]||(a[0]=()=>{R.value=!0})},{default:r(()=>a[13]||(a[13]=[$(" Add Class ")])),_:1}),t(F,{"is-dialog-visible":d(R),"onUpdate:isDialogVisible":a[1]||(a[1]=c=>P(R)?R.value=c:null),onSubmit:a[2]||(a[2]=c=>D()),type:"group"},null,8,["is-dialog-visible"]),t(F,{"is-dialog-visible":d(Q),"onUpdate:isDialogVisible":a[3]||(a[3]=c=>P(Q)?Q.value=c:null),resource:d(g),onSubmit:a[4]||(a[4]=c=>D()),type:"group"},null,8,["is-dialog-visible","resource"])])]),t(ee),N("div",gt,[t(re,{modelValue:d(m),"onUpdate:modelValue":a[5]||(a[5]=c=>P(m)?m.value=c:null),placeholder:"Search",clearable:"",style:{"min-width":"200px"}},null,8,["modelValue"]),t(ue,{modelValue:d(V),"onUpdate:modelValue":a[6]||(a[6]=c=>P(V)?V.value=c:null),placeholder:"Equipment",items:d(ae),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),t(ue,{modelValue:d(y),"onUpdate:modelValue":a[7]||(a[7]=c=>P(y)?y.value=c:null),placeholder:"Status",items:d(E),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),t(ee,{class:"mt-4"}),t(Be,{"items-per-page":d(q),"onUpdate:itemsPerPage":a[9]||(a[9]=c=>P(q)?q.value=c:null),"model-value":d(C),"onUpdate:modelValue":a[10]||(a[10]=c=>P(C)?C.value=c:null),page:d(b),"onUpdate:page":a[11]||(a[11]=c=>P(b)?b.value=c:null),headers:n,"show-select":"",items:d(L),"items-length":d(f).total,class:"text-no-wrap","onUpdate:options":oe},{"item.banner_url":r(({item:c})=>[c.banner_url?(A(),Z("img",{key:0,src:c.banner_url,alt:"Banner",class:"thumb-preview"},null,8,yt)):(A(),Z("div",ft,[t(W,{icon:"tabler-photo-off"}),a[15]||(a[15]=$(" No Image"))]))]),"item.status":r(({item:c})=>[t($e,Pe(l(c.status??""),{density:"default",label:"",size:"small"}),null,16)]),"item.actions":r(({item:c})=>[t(ce,{onClick:pe=>X(c)},{default:r(()=>[t(W,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(ce,null,{default:r(()=>[t(W,{icon:"tabler-dots-vertical"}),t(we,{activator:"parent"},{default:r(()=>[t(Ee,null,{default:r(()=>[c.status==="active"?(A(),H(te,{key:0,value:"delete","prepend-icon":"tabler-x",onClick:pe=>S(c.id),"base-color":"error"},{default:r(()=>a[16]||(a[16]=[$(" Deactive ")])),_:2},1032,["onClick"])):M("",!0),c.status==="inactive"?(A(),H(te,{key:1,value:"reactivate","prepend-icon":"tabler-check",onClick:pe=>h(c.id),"base-color":"success"},{default:r(()=>a[17]||(a[17]=[$(" Activate ")])),_:2},1032,["onClick"])):M("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:r(()=>[t(Se,{page:d(b),"onUpdate:page":a[8]||(a[8]=c=>P(b)?b.value=c:null),"items-per-page":d(f).perPage,"total-items":d(f).total},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1})])}}}),qt=We(bt,[["__scopeId","data-v-811815d6"]]),Vt={class:"d-flex flex-wrap gap-4 my-4 mx-6"},Pt={class:"d-flex gap-4 flex-wrap align-center"},Ct={class:"d-flex flex-wrap gap-4 ma-6"},_t=ie({__name:"Private",setup(I){const _=xe(),e=ye(),B=Ce(),y=i(e.query.status||void 0),p=i(e.query.category||void 0),V=i(e.query.equipment||void 0),u=i(e.query.level||void 0),v=i(e.query.q||""),m=i(v.value),C=i([]),q=i(Number(e.query.itemsPerPage)||15),b=i(Number(e.query.page)||1),w=i(e.query.sortBy||void 0),o=i(e.query.orderBy||void 0),f=i({currentPage:b.value,lastPage:1,total:0,perPage:q.value}),x=()=>{console.log("updateQueryParams");const s={...e.query,q:v.value||void 0,status:y.value||void 0,equipment:V.value||void 0,level:u.value||void 0,category:p.value||void 0,page:b.value!==1?String(b.value):void 0,itemsPerPage:q.value!==15?String(q.value):void 0,sortBy:w.value||void 0,orderBy:o.value||void 0};Object.keys(s).forEach(a=>{s[a]===void 0&&delete s[a]}),B.replace({query:s})};U([v,y,p,V,u,q,b,w,o],()=>{x()}),U(()=>e.query,()=>{(e.query.q!==v.value||e.query.status!==y.value||e.query.category!==p.value||e.query.equipment!==V.value||e.query.level!==u.value||Number(e.query.page||1)!==b.value||Number(e.query.itemsPerPage||15)!==q.value||e.query.sortBy!==w.value||e.query.orderBy!==o.value)&&(v.value=e.query.q||"",y.value=e.query.status||void 0,p.value=e.query.category||void 0,V.value=e.query.equipment||void 0,u.value=e.query.level||void 0,b.value=Number(e.query.page)||1,q.value=Number(e.query.itemsPerPage)||15,w.value=e.query.sortBy||void 0,o.value=e.query.orderBy||void 0),console.log("kasjndkjansdkjnajsdn"),D()},{deep:!0});let k=null;U(m,s=>{k&&clearTimeout(k),k=setTimeout(()=>{v.value=s,b.value!==1&&(b.value=1)},500)}),fe(()=>{k&&clearTimeout(k)});const{status:E,categories:G,equipments:ae,levels:Y}=be(_),T=async()=>{try{_.fetchOptions("categories","/options/class-categories"),_.fetchOptions("equipments","/options/class-equipments"),_.fetchOptions("levels","/options/class-levels"),le()}catch(s){console.error("Failed to fetch filter options:",s)}},le=()=>{y.value&&!E.value.some(s=>s.value===y.value)&&(y.value="")},oe=s=>{var a,F;b.value=s.page,q.value=s.itemsPerPage,s.sortBy&&s.sortBy.length>0?(w.value=(a=s.sortBy[0])==null?void 0:a.key,o.value=(F=s.sortBy[0])==null?void 0:F.order):(w.value=void 0,o.value=void 0)},K=i(null),{fetchClasses:se,deleteClass:j,reactivateClass:O}=Le(),L=i([]),D=async()=>{const s={q:v.value,equipment:V.value,level:u.value,category:p.value,status:y.value,page:b.value,per_page:q.value,sort_by:w.value,order_by:o.value,type:"private"},{data:a,response:F,error:re}=await se({query:s});return L.value=a.data,K.value=a,{data:a,response:F,error:re}};U(K,s=>{s&&(f.value={currentPage:s.current_page,lastPage:s.last_page,total:s.total,perPage:s.per_page},b.value=s.current_page,q.value=s.per_page)},{deep:!0});const n=[{title:"Image",key:"image",sortable:!1},{title:"Name",key:"name"},{title:"Equipment",key:"equipment_name",sortable:!1},{title:"Status",key:"status",sortable:!1,align:"end",width:"100px"},{title:"Actions",key:"actions",sortable:!1,align:"end",width:"100px"}],l=s=>{if(s==="active")return{text:"Active",color:"success"};if(s==="inactive")return{text:"Inactive",color:"error"}},S=async s=>{try{await j(s),D()}catch(a){console.error("Failed to delete class:",a)}},h=async s=>{try{await O(s),D()}catch(a){console.error("Failed to delete class:",a)}};qe(async()=>{T(),await D()});const R=i(!1),Q=i(!1),g=i(null),X=s=>{g.value=s,Q.value=!0};return(s,a)=>{const F=Oe,re=de,ue=Qe,ce=Ve("IconBtn"),Se=_e;return A(),Z("div",null,[t(ve,null,{default:r(()=>[N("div",Vt,[a[16]||(a[16]=N("div",{class:"font-weight-medium text-lg align-self-center"},"Group Class",-1)),t(ke),N("div",Pt,[t(J,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:r(()=>a[14]||(a[14]=[$(" Export ")])),_:1}),t(J,{color:"primary","prepend-icon":"tabler-plus",onClick:a[0]||(a[0]=()=>{R.value=!0})},{default:r(()=>a[15]||(a[15]=[$(" Add Class ")])),_:1}),t(F,{"is-dialog-visible":d(R),"onUpdate:isDialogVisible":a[1]||(a[1]=c=>P(R)?R.value=c:null),onSubmit:a[2]||(a[2]=c=>D()),type:"private"},null,8,["is-dialog-visible"]),t(F,{"is-dialog-visible":d(Q),"onUpdate:isDialogVisible":a[3]||(a[3]=c=>P(Q)?Q.value=c:null),resource:d(g),onSubmit:a[4]||(a[4]=c=>D()),type:"private"},null,8,["is-dialog-visible","resource"])])]),t(ee),N("div",Ct,[t(re,{modelValue:d(m),"onUpdate:modelValue":a[5]||(a[5]=c=>P(m)?m.value=c:null),placeholder:"Search",clearable:"",style:{"min-width":"200px"}},null,8,["modelValue"]),t(ue,{modelValue:d(p),"onUpdate:modelValue":a[6]||(a[6]=c=>P(p)?p.value=c:null),placeholder:"Category",items:d(G),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),t(ue,{modelValue:d(V),"onUpdate:modelValue":a[7]||(a[7]=c=>P(V)?V.value=c:null),placeholder:"Equipment",items:d(ae),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),t(ue,{modelValue:d(u),"onUpdate:modelValue":a[8]||(a[8]=c=>P(u)?u.value=c:null),placeholder:"Level",items:d(Y),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"]),t(ue,{modelValue:d(y),"onUpdate:modelValue":a[9]||(a[9]=c=>P(y)?y.value=c:null),placeholder:"Status",items:d(E),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),t(ee,{class:"mt-4"}),t(Be,{"items-per-page":d(q),"onUpdate:itemsPerPage":a[11]||(a[11]=c=>P(q)?q.value=c:null),"model-value":d(C),"onUpdate:modelValue":a[12]||(a[12]=c=>P(C)?C.value=c:null),page:d(b),"onUpdate:page":a[13]||(a[13]=c=>P(b)?b.value=c:null),headers:n,"show-select":"",items:d(L),"items-length":d(f).total,class:"text-no-wrap","onUpdate:options":oe},{"item.status":r(({item:c})=>[t($e,Pe(l(c.status??""),{density:"default",label:"",size:"small"}),null,16)]),"item.actions":r(({item:c})=>[t(ce,{onClick:pe=>X(c)},{default:r(()=>[t(W,{icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(ce,null,{default:r(()=>[t(W,{icon:"tabler-dots-vertical"}),t(we,{activator:"parent"},{default:r(()=>[t(Ee,null,{default:r(()=>[c.status==="active"?(A(),H(te,{key:0,value:"delete","prepend-icon":"tabler-x",onClick:pe=>S(c.id),"base-color":"error"},{default:r(()=>a[17]||(a[17]=[$(" Deactive ")])),_:2},1032,["onClick"])):M("",!0),c.status==="inactive"?(A(),H(te,{key:1,value:"reactivate","prepend-icon":"tabler-check",onClick:pe=>h(c.id),"base-color":"success"},{default:r(()=>a[18]||(a[18]=[$(" Activate ")])),_:2},1032,["onClick"])):M("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:r(()=>[t(Se,{page:d(b),"onUpdate:page":a[10]||(a[10]=c=>P(b)?b.value=c:null),"items-per-page":d(f).perPage,"total-items":d(f).total},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","model-value","page","items","items-length"])]),_:1})])}}}),da=ie({__name:"[tab]",setup(I){const _=He(),e=Je({get:()=>_.params.tab,set:()=>_.params.tab}),B=[{title:"Group",icon:"tabler-users",tab:"group"},{title:"Private",icon:"tabler-user",tab:"private"},{title:"Equipment",icon:"tabler-barbell",tab:"equipment"}];return(y,p)=>{const V=ze;return A(),Z("div",null,[t(Ze,{modelValue:d(e),"onUpdate:modelValue":p[0]||(p[0]=u=>P(e)?e.value=u:null),class:"v-tabs-pill"},{default:r(()=>[(A(),Z(Ke,null,Xe(B,u=>t(Me,{key:u.icon,value:u.tab,to:{name:"manage-classes-tab",params:{tab:u.tab}}},{default:r(()=>[t(W,{size:"20",start:"",icon:u.icon},null,8,["icon"]),$(" "+Ue(u.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"]),t(V,null,{default:r(()=>[t(et,{modelValue:d(e),"onUpdate:modelValue":p[1]||(p[1]=u=>P(e)?e.value=u:null),class:"mt-6 disable-tab-transition",touch:!1},{default:r(()=>[t(me,{value:"group"},{default:r(()=>[t(qt)]),_:1}),t(me,{value:"private"},{default:r(()=>[t(_t)]),_:1}),t(me,{value:"category"},{default:r(()=>[t(rt)]),_:1}),t(me,{value:"equipment"},{default:r(()=>[t(ct)]),_:1}),t(me,{value:"level"},{default:r(()=>[t(Ye)]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});export{da as default};
